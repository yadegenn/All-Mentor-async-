2025-01-06 15:50:38,706 Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-01-06 15:50:38,707 Added job "checker" to job store "default"
2025-01-06 15:50:38,707 Scheduler started
2025-01-06 15:50:38,710 Looking for jobs to run
2025-01-06 15:50:38,710 Next wakeup is due at 2025-01-06 15:50:43.706424+05:00 (in 4.995980 seconds)
2025-01-06 15:50:43,707 Looking for jobs to run
2025-01-06 15:50:43,707 Next wakeup is due at 2025-01-06 15:50:48.706424+05:00 (in 4.998515 seconds)
2025-01-06 15:50:43,708 Running job "checker (trigger: interval[0:00:05], next run at: 2025-01-06 15:50:48 +05)" (scheduled at 2025-01-06 15:50:43.706424+05:00)
2025-01-06 15:50:43,708 Job "checker (trigger: interval[0:00:05], next run at: 2025-01-06 15:50:48 +05)" executed successfully
2025-01-06 15:50:46,107 Unhandled exception (full traceback for debug level): A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-01-06 15:50:47,542 executing <function connect.<locals>.connector at 0x7f6b563fb420>
2025-01-06 15:50:47,547 operation <function connect.<locals>.connector at 0x7f6b563fb420> completed
2025-01-06 15:50:47,547 executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b564247c0>, 'SELECT topic_id FROM users WHERE chat_id = ?', (5434361630,))
2025-01-06 15:50:47,550 operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b564247c0>, 'SELECT topic_id FROM users WHERE chat_id = ?', (5434361630,)) completed
2025-01-06 15:50:47,550 executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x7f6b5641bec0>)
2025-01-06 15:50:47,551 operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x7f6b5641bec0>) completed
2025-01-06 15:50:47,551 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7f6b5641bec0>)
2025-01-06 15:50:47,551 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7f6b5641bec0>) completed
2025-01-06 15:50:47,551 executing <function connect.<locals>.connector at 0x7f6b56d63420>
2025-01-06 15:50:47,552 operation <function connect.<locals>.connector at 0x7f6b56d63420> completed
2025-01-06 15:50:47,552 executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b56425120>, 'PRAGMA foreign_keys = ON', [])
2025-01-06 15:50:47,552 operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b56425120>, 'PRAGMA foreign_keys = ON', []) completed
2025-01-06 15:50:47,552 executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b56425120>, '\n            CREATE TABLE IF NOT EXISTS users (\n                chat_id INTEGER,\n                topic_id INTEGER,\n                user_name TEXT,\n                PRIMARY KEY (chat_id, topic_id)\n            )\n        ', [])
2025-01-06 15:50:47,552 operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b56425120>, '\n            CREATE TABLE IF NOT EXISTS users (\n                chat_id INTEGER,\n                topic_id INTEGER,\n                user_name TEXT,\n                PRIMARY KEY (chat_id, topic_id)\n            )\n        ', []) completed
2025-01-06 15:50:47,553 executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b56425120>, '\n            CREATE TABLE IF NOT EXISTS group_messages (\n                topic_id INTEGER,\n                message_id INTEGER,\n                local_id INTEGER,\n                PRIMARY KEY (topic_id, local_id)\n            )\n        ', [])
2025-01-06 15:50:47,553 operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b56425120>, '\n            CREATE TABLE IF NOT EXISTS group_messages (\n                topic_id INTEGER,\n                message_id INTEGER,\n                local_id INTEGER,\n                PRIMARY KEY (topic_id, local_id)\n            )\n        ', []) completed
2025-01-06 15:50:47,553 executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b56425120>, '\n            CREATE TABLE IF NOT EXISTS private_messages (\n                chat_id INTEGER,\n                message_id INTEGER,\n                local_id INTEGER,\n                PRIMARY KEY (chat_id, local_id)\n            )\n        ', [])
2025-01-06 15:50:47,553 operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b56425120>, '\n            CREATE TABLE IF NOT EXISTS private_messages (\n                chat_id INTEGER,\n                message_id INTEGER,\n                local_id INTEGER,\n                PRIMARY KEY (chat_id, local_id)\n            )\n        ', []) completed
2025-01-06 15:50:47,553 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x7f6b56425120>)
2025-01-06 15:50:47,553 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x7f6b56425120>) completed
2025-01-06 15:50:47,554 executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b56425120>, 'SELECT topic_id FROM users WHERE chat_id = ? AND user_name = ?', (5434361630, 'yadgenn'))
2025-01-06 15:50:47,554 operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b56425120>, 'SELECT topic_id FROM users WHERE chat_id = ? AND user_name = ?', (5434361630, 'yadgenn')) completed
2025-01-06 15:50:47,554 executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x7f6b56438940>)
2025-01-06 15:50:47,554 operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x7f6b56438940>) completed
2025-01-06 15:50:47,554 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7f6b56438940>)
2025-01-06 15:50:47,555 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7f6b56438940>) completed
2025-01-06 15:50:48,709 Looking for jobs to run
2025-01-06 15:50:48,709 Next wakeup is due at 2025-01-06 15:50:53.706424+05:00 (in 4.997060 seconds)
2025-01-06 15:50:48,709 Running job "checker (trigger: interval[0:00:05], next run at: 2025-01-06 15:50:53 +05)" (scheduled at 2025-01-06 15:50:48.706424+05:00)
2025-01-06 15:50:48,709 Job "checker (trigger: interval[0:00:05], next run at: 2025-01-06 15:50:53 +05)" executed successfully
2025-01-06 15:50:51,022 executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b56425120>, 'SELECT topic_id FROM users WHERE chat_id = ?', (5434361630,))
2025-01-06 15:50:51,023 operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b56425120>, 'SELECT topic_id FROM users WHERE chat_id = ?', (5434361630,)) completed
2025-01-06 15:50:51,023 executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x7f6b56438940>)
2025-01-06 15:50:51,023 operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x7f6b56438940>) completed
2025-01-06 15:50:51,024 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7f6b56438940>)
2025-01-06 15:50:51,024 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7f6b56438940>) completed
2025-01-06 15:50:51,024 executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b56425120>, 'SELECT MAX(local_id) FROM group_messages WHERE topic_id = ?', (186,))
2025-01-06 15:50:51,024 operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b56425120>, 'SELECT MAX(local_id) FROM group_messages WHERE topic_id = ?', (186,)) completed
2025-01-06 15:50:51,025 executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x7f6b56438940>)
2025-01-06 15:50:51,025 operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x7f6b56438940>) completed
2025-01-06 15:50:51,025 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7f6b56438940>)
2025-01-06 15:50:51,025 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7f6b56438940>) completed
2025-01-06 15:50:51,025 executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b56425120>, '\n                    INSERT INTO group_messages (topic_id, message_id, local_id)\n                    VALUES (?, ?, ?)\n                ', (186, 1328, 348))
2025-01-06 15:50:51,026 operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b56425120>, '\n                    INSERT INTO group_messages (topic_id, message_id, local_id)\n                    VALUES (?, ?, ?)\n                ', (186, 1328, 348)) completed
2025-01-06 15:50:51,026 executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b56425120>, 'SELECT MAX(local_id) FROM private_messages WHERE chat_id = ?', (5434361630,))
2025-01-06 15:50:51,026 operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b56425120>, 'SELECT MAX(local_id) FROM private_messages WHERE chat_id = ?', (5434361630,)) completed
2025-01-06 15:50:51,026 executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x7f6b56439840>)
2025-01-06 15:50:51,026 operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x7f6b56439840>) completed
2025-01-06 15:50:51,027 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7f6b56439840>)
2025-01-06 15:50:51,027 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7f6b56439840>) completed
2025-01-06 15:50:51,027 executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b56425120>, '\n                    INSERT INTO private_messages (chat_id, message_id, local_id)\n                    VALUES (?, ?, ?)\n                ', (5434361630, 23182, 348))
2025-01-06 15:50:51,028 operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x7f6b56425120>, '\n                    INSERT INTO private_messages (chat_id, message_id, local_id)\n                    VALUES (?, ?, ?)\n                ', (5434361630, 23182, 348)) completed
2025-01-06 15:50:51,028 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x7f6b56425120>)
2025-01-06 15:50:51,035 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x7f6b56425120>) completed
2025-01-06 15:50:51,227 Unhandled exception (full traceback for debug level): A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-01-06 15:50:52,045 An error occurred код ошибки: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/emilgoo/Проекты/All Mentor (async)/main_telebot.py", line 549, in main
    await asyncio.gather(bot.infinity_polling(allowed_updates=[
  File "/home/emilgoo/Проекты/All Mentor (async)/main_telebot.py", line 542, in updates
    updates = await bot.get_updates()
              ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/emilgoo/.var/app/com.jetbrains.PyCharm-Community/data/python/lib/python3.11/site-packages/telebot/async_telebot.py", line 240, in get_updates
    json_updates = await asyncio_helper.get_updates(self.token, offset, limit, timeout, allowed_updates, request_timeout)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/emilgoo/.var/app/com.jetbrains.PyCharm-Community/data/python/lib/python3.11/site-packages/telebot/asyncio_helper.py", line 252, in get_updates
    return await _process_request(token, method_name, params=params, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/emilgoo/.var/app/com.jetbrains.PyCharm-Community/data/python/lib/python3.11/site-packages/telebot/asyncio_helper.py", line 99, in _process_request
    raise e
  File "/home/emilgoo/.var/app/com.jetbrains.PyCharm-Community/data/python/lib/python3.11/site-packages/telebot/asyncio_helper.py", line 95, in _process_request
    json_result = await _check_result(url, resp)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/emilgoo/.var/app/com.jetbrains.PyCharm-Community/data/python/lib/python3.11/site-packages/telebot/asyncio_helper.py", line 276, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.asyncio_helper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-01-06 15:50:52,048 Infinity polling: polling exited
2025-01-06 15:50:52,048 Break infinity polling
